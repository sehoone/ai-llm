(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,49782,29518,e=>{"use strict";var s=e.i(19918);let a=(0,s.default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),l=(0,s.default)("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);e.s(["UserCheck",()=>l],29518);var t=e.i(53287),r=e.i(71557);let n=new Map([["active","bg-teal-100/30 text-teal-900 dark:text-teal-200 border-teal-200"],["inactive","bg-neutral-300/40 border-neutral-300"],["invited","bg-sky-200/40 text-sky-900 dark:text-sky-100 border-sky-300"],["suspended","bg-destructive/10 dark:bg-destructive/50 text-destructive dark:text-primary border-destructive/10"]]),i=[{label:"Superadmin",value:"superadmin",icon:a},{label:"Admin",value:"admin",icon:l},{label:"Manager",value:"manager",icon:t.Users},{label:"Cashier",value:"cashier",icon:r.CreditCard}];e.s(["callTypes",0,n,"roles",0,i],49782)},35665,e=>{"use strict";let s=(0,e.i(19918).default)("mail-plus",[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M16 19h6",key:"xwg31i"}]]);e.s(["MailPlus",()=>s],35665)},46728,e=>{"use strict";var s=e.i(27936),a=e.i(28627),l=e.i(55605);let t=a.default.createContext(null);function r({children:e}){let[r,n]=(0,l.default)(null),[i,o]=(0,a.useState)(null);return(0,s.jsx)(t,{value:{open:r,setOpen:n,currentRow:i,setCurrentRow:o},children:e})}e.s(["UsersProvider",()=>r,"useUsers",0,()=>{let e=a.default.useContext(t);if(!e)throw Error("useUsers has to be used within <UsersContext>");return e}])},79632,e=>{"use strict";var s=e.i(27936),a=e.i(41190),l=e.i(68345),t=e.i(87777),r=e.i(49584),n=e.i(19455),i=e.i(76639),o=e.i(3133),c=e.i(93479),d=e.i(34800),m=e.i(96872),u=e.i(49782);let h=a.z.object({firstName:a.z.string().min(1,"First Name is required."),lastName:a.z.string().min(1,"Last Name is required."),username:a.z.string().min(1,"Username is required."),phoneNumber:a.z.string().min(1,"Phone number is required."),email:a.z.email({error:e=>""===e.input?"Email is required.":void 0}),password:a.z.string().transform(e=>e.trim()),role:a.z.string().min(1,"Role is required."),confirmPassword:a.z.string().transform(e=>e.trim()),isEdit:a.z.boolean()}).refine(e=>!!e.isEdit&&!e.password||e.password.length>0,{message:"Password is required.",path:["password"]}).refine(({isEdit:e,password:s})=>!!e&&!s||s.length>=8,{message:"Password must be at least 8 characters long.",path:["password"]}).refine(({isEdit:e,password:s})=>!!e&&!s||/[a-z]/.test(s),{message:"Password must contain at least one lowercase letter.",path:["password"]}).refine(({isEdit:e,password:s})=>!!e&&!s||/\d/.test(s),{message:"Password must contain at least one number.",path:["password"]}).refine(({isEdit:e,password:s,confirmPassword:a})=>!!e&&!s||s===a,{message:"Passwords don't match.",path:["confirmPassword"]});function x({currentRow:e,open:a,onOpenChange:x}){let p=!!e,g=(0,l.useForm)({resolver:(0,t.zodResolver)(h),defaultValues:p?{...e,password:"",confirmPassword:"",isEdit:p}:{firstName:"",lastName:"",username:"",email:"",role:"",phoneNumber:"",password:"",confirmPassword:"",isEdit:p}}),j=!!g.formState.dirtyFields.password;return(0,s.jsx)(i.Dialog,{open:a,onOpenChange:e=>{g.reset(),x(e)},children:(0,s.jsxs)(i.DialogContent,{className:"sm:max-w-lg",children:[(0,s.jsxs)(i.DialogHeader,{className:"text-start",children:[(0,s.jsx)(i.DialogTitle,{children:p?"Edit User":"Add New User"}),(0,s.jsxs)(i.DialogDescription,{children:[p?"Update the user here. ":"Create new user here. ","Click save when you're done."]})]}),(0,s.jsx)("div",{className:"h-105 w-[calc(100%+0.75rem)] overflow-y-auto py-1 pe-3",children:(0,s.jsx)(o.Form,{...g,children:(0,s.jsxs)("form",{id:"user-form",onSubmit:g.handleSubmit(e=>{g.reset(),(0,r.showSubmittedData)(e),x(!1)}),className:"space-y-4 px-0.5",children:[(0,s.jsx)(o.FormField,{control:g.control,name:"firstName",render:({field:e})=>(0,s.jsxs)(o.FormItem,{className:"grid grid-cols-6 items-center space-y-0 gap-x-4 gap-y-1",children:[(0,s.jsx)(o.FormLabel,{className:"col-span-2 text-end",children:"First Name"}),(0,s.jsx)(o.FormControl,{children:(0,s.jsx)(c.Input,{placeholder:"John",className:"col-span-4",autoComplete:"off",...e})}),(0,s.jsx)(o.FormMessage,{className:"col-span-4 col-start-3"})]})}),(0,s.jsx)(o.FormField,{control:g.control,name:"lastName",render:({field:e})=>(0,s.jsxs)(o.FormItem,{className:"grid grid-cols-6 items-center space-y-0 gap-x-4 gap-y-1",children:[(0,s.jsx)(o.FormLabel,{className:"col-span-2 text-end",children:"Last Name"}),(0,s.jsx)(o.FormControl,{children:(0,s.jsx)(c.Input,{placeholder:"Doe",className:"col-span-4",autoComplete:"off",...e})}),(0,s.jsx)(o.FormMessage,{className:"col-span-4 col-start-3"})]})}),(0,s.jsx)(o.FormField,{control:g.control,name:"username",render:({field:e})=>(0,s.jsxs)(o.FormItem,{className:"grid grid-cols-6 items-center space-y-0 gap-x-4 gap-y-1",children:[(0,s.jsx)(o.FormLabel,{className:"col-span-2 text-end",children:"Username"}),(0,s.jsx)(o.FormControl,{children:(0,s.jsx)(c.Input,{placeholder:"john_doe",className:"col-span-4",...e})}),(0,s.jsx)(o.FormMessage,{className:"col-span-4 col-start-3"})]})}),(0,s.jsx)(o.FormField,{control:g.control,name:"email",render:({field:e})=>(0,s.jsxs)(o.FormItem,{className:"grid grid-cols-6 items-center space-y-0 gap-x-4 gap-y-1",children:[(0,s.jsx)(o.FormLabel,{className:"col-span-2 text-end",children:"Email"}),(0,s.jsx)(o.FormControl,{children:(0,s.jsx)(c.Input,{placeholder:"john.doe@gmail.com",className:"col-span-4",...e})}),(0,s.jsx)(o.FormMessage,{className:"col-span-4 col-start-3"})]})}),(0,s.jsx)(o.FormField,{control:g.control,name:"phoneNumber",render:({field:e})=>(0,s.jsxs)(o.FormItem,{className:"grid grid-cols-6 items-center space-y-0 gap-x-4 gap-y-1",children:[(0,s.jsx)(o.FormLabel,{className:"col-span-2 text-end",children:"Phone Number"}),(0,s.jsx)(o.FormControl,{children:(0,s.jsx)(c.Input,{placeholder:"+123456789",className:"col-span-4",...e})}),(0,s.jsx)(o.FormMessage,{className:"col-span-4 col-start-3"})]})}),(0,s.jsx)(o.FormField,{control:g.control,name:"role",render:({field:e})=>(0,s.jsxs)(o.FormItem,{className:"grid grid-cols-6 items-center space-y-0 gap-x-4 gap-y-1",children:[(0,s.jsx)(o.FormLabel,{className:"col-span-2 text-end",children:"Role"}),(0,s.jsx)(m.SelectDropdown,{defaultValue:e.value,onValueChange:e.onChange,placeholder:"Select a role",className:"col-span-4",items:u.roles.map(({label:e,value:s})=>({label:e,value:s}))}),(0,s.jsx)(o.FormMessage,{className:"col-span-4 col-start-3"})]})}),(0,s.jsx)(o.FormField,{control:g.control,name:"password",render:({field:e})=>(0,s.jsxs)(o.FormItem,{className:"grid grid-cols-6 items-center space-y-0 gap-x-4 gap-y-1",children:[(0,s.jsx)(o.FormLabel,{className:"col-span-2 text-end",children:"Password"}),(0,s.jsx)(o.FormControl,{children:(0,s.jsx)(d.PasswordInput,{placeholder:"e.g., S3cur3P@ssw0rd",className:"col-span-4",...e})}),(0,s.jsx)(o.FormMessage,{className:"col-span-4 col-start-3"})]})}),(0,s.jsx)(o.FormField,{control:g.control,name:"confirmPassword",render:({field:e})=>(0,s.jsxs)(o.FormItem,{className:"grid grid-cols-6 items-center space-y-0 gap-x-4 gap-y-1",children:[(0,s.jsx)(o.FormLabel,{className:"col-span-2 text-end",children:"Confirm Password"}),(0,s.jsx)(o.FormControl,{children:(0,s.jsx)(d.PasswordInput,{disabled:!j,placeholder:"e.g., S3cur3P@ssw0rd",className:"col-span-4",...e})}),(0,s.jsx)(o.FormMessage,{className:"col-span-4 col-start-3"})]})})]})})}),(0,s.jsx)(i.DialogFooter,{children:(0,s.jsx)(n.Button,{type:"submit",form:"user-form",children:"Save changes"})})]})})}var p=e.i(28627),g=e.i(31867),j=e.i(29592),b=e.i(10204),v=e.i(46200);function N({open:e,onOpenChange:a,currentRow:l}){let[t,n]=(0,p.useState)("");return(0,s.jsx)(v.ConfirmDialog,{open:e,onOpenChange:a,handleConfirm:()=>{t.trim()===l.username&&(a(!1),(0,r.showSubmittedData)(l,"The following user has been deleted:"))},disabled:t.trim()!==l.username,title:(0,s.jsxs)("span",{className:"text-destructive",children:[(0,s.jsx)(g.AlertTriangle,{className:"me-1 inline-block stroke-destructive",size:18})," ","Delete User"]}),desc:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("p",{className:"mb-2",children:["Are you sure you want to delete"," ",(0,s.jsx)("span",{className:"font-bold",children:l.username}),"?",(0,s.jsx)("br",{}),"This action will permanently remove the user with the role of"," ",(0,s.jsx)("span",{className:"font-bold",children:l.role.toUpperCase()})," ","from the system. This cannot be undone."]}),(0,s.jsxs)(b.Label,{className:"my-2",children:["Username:",(0,s.jsx)(c.Input,{value:t,onChange:e=>n(e.target.value),placeholder:"Enter username to confirm deletion."})]}),(0,s.jsxs)(j.Alert,{variant:"destructive",children:[(0,s.jsx)(j.AlertTitle,{children:"Warning!"}),(0,s.jsx)(j.AlertDescription,{children:"Please be careful, this operation can not be rolled back."})]})]}),confirmText:"Delete",destructive:!0})}var f=e.i(35665),w=e.i(38016),y=e.i(24687);let C=a.z.object({email:a.z.email({error:e=>""===e.input?"Please enter an email to invite.":void 0}),role:a.z.string().min(1,"Role is required."),desc:a.z.string().optional()});function F({open:e,onOpenChange:a}){let d=(0,l.useForm)({resolver:(0,t.zodResolver)(C),defaultValues:{email:"",role:"",desc:""}});return(0,s.jsx)(i.Dialog,{open:e,onOpenChange:e=>{d.reset(),a(e)},children:(0,s.jsxs)(i.DialogContent,{className:"sm:max-w-md",children:[(0,s.jsxs)(i.DialogHeader,{className:"text-start",children:[(0,s.jsxs)(i.DialogTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(f.MailPlus,{})," Invite User"]}),(0,s.jsx)(i.DialogDescription,{children:"Invite new user to join your team by sending them an email invitation. Assign a role to define their access level."})]}),(0,s.jsx)(o.Form,{...d,children:(0,s.jsxs)("form",{id:"user-invite-form",onSubmit:d.handleSubmit(e=>{d.reset(),(0,r.showSubmittedData)(e),a(!1)}),className:"space-y-4",children:[(0,s.jsx)(o.FormField,{control:d.control,name:"email",render:({field:e})=>(0,s.jsxs)(o.FormItem,{children:[(0,s.jsx)(o.FormLabel,{children:"Email"}),(0,s.jsx)(o.FormControl,{children:(0,s.jsx)(c.Input,{type:"email",placeholder:"eg: john.doe@gmail.com",...e})}),(0,s.jsx)(o.FormMessage,{})]})}),(0,s.jsx)(o.FormField,{control:d.control,name:"role",render:({field:e})=>(0,s.jsxs)(o.FormItem,{children:[(0,s.jsx)(o.FormLabel,{children:"Role"}),(0,s.jsx)(m.SelectDropdown,{defaultValue:e.value,onValueChange:e.onChange,placeholder:"Select a role",items:u.roles.map(({label:e,value:s})=>({label:e,value:s}))}),(0,s.jsx)(o.FormMessage,{})]})}),(0,s.jsx)(o.FormField,{control:d.control,name:"desc",render:({field:e})=>(0,s.jsxs)(o.FormItem,{className:"",children:[(0,s.jsx)(o.FormLabel,{children:"Description (optional)"}),(0,s.jsx)(o.FormControl,{children:(0,s.jsx)(y.Textarea,{className:"resize-none",placeholder:"Add a personal note to your invitation (optional)",...e})}),(0,s.jsx)(o.FormMessage,{})]})})]})}),(0,s.jsxs)(i.DialogFooter,{className:"gap-y-2",children:[(0,s.jsx)(i.DialogClose,{asChild:!0,children:(0,s.jsx)(n.Button,{variant:"outline",children:"Cancel"})}),(0,s.jsxs)(n.Button,{type:"submit",form:"user-invite-form",children:["Invite ",(0,s.jsx)(w.Send,{})]})]})]})})}var D=e.i(46728);function T(){let{open:e,setOpen:a,currentRow:l,setCurrentRow:t}=(0,D.useUsers)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x,{open:"add"===e,onOpenChange:()=>a("add")},"user-add"),(0,s.jsx)(F,{open:"invite"===e,onOpenChange:()=>a("invite")},"user-invite"),l&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x,{open:"edit"===e,onOpenChange:()=>{a("edit"),setTimeout(()=>{t(null)},500)},currentRow:l},`user-edit-${l.id}`),(0,s.jsx)(N,{open:"delete"===e,onOpenChange:()=>{a("delete"),setTimeout(()=>{t(null)},500)},currentRow:l},`user-delete-${l.id}`)]})]})}e.s(["UsersDialogs",()=>T],79632)},70417,e=>{"use strict";var s=e.i(27936),a=e.i(35665);let l=(0,e.i(19918).default)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var t=e.i(19455),r=e.i(46728);function n(){let{setOpen:e}=(0,r.useUsers)();return(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(t.Button,{variant:"outline",className:"space-x-1",onClick:()=>e("invite"),children:[(0,s.jsx)("span",{children:"Invite User"})," ",(0,s.jsx)(a.MailPlus,{size:18})]}),(0,s.jsxs)(t.Button,{className:"space-x-1",onClick:()=>e("add"),children:[(0,s.jsx)("span",{children:"Add User"})," ",(0,s.jsx)(l,{size:18})]})]})}e.s(["UsersPrimaryButtons",()=>n],70417)},12208,e=>{"use strict";var s=e.i(27936),a=e.i(28627),l=e.i(27037),t=e.i(61922),r=e.i(75157),n=e.i(24250),i=e.i(84774);e.i(96643);var o=e.i(96442),c=e.i(61698),d=e.i(49782),m=e.i(16961),u=e.i(76709),h=e.i(29518),x=e.i(19918);let p=(0,x.default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);var g=e.i(54219),j=e.i(19455),b=e.i(46798),v=e.i(37233),N=e.i(31867),f=e.i(29592),w=e.i(93479),y=e.i(10204),C=e.i(46200);let F="DELETE";function D({open:e,onOpenChange:l,table:t}){let[n,i]=(0,a.useState)(""),o=t.getFilteredSelectedRowModel().rows;return(0,s.jsx)(C.ConfirmDialog,{open:e,onOpenChange:l,handleConfirm:()=>{n.trim()!==F?g.toast.error(`Please type "${F}" to confirm.`):(l(!1),g.toast.promise((0,r.sleep)(2e3),{loading:"Deleting users...",success:()=>(i(""),t.resetRowSelection(),`Deleted ${o.length} ${o.length>1?"users":"user"}`),error:"Error"}))},disabled:n.trim()!==F,title:(0,s.jsxs)("span",{className:"text-destructive",children:[(0,s.jsx)(N.AlertTriangle,{className:"me-1 inline-block stroke-destructive",size:18})," ","Delete ",o.length," ",o.length>1?"users":"user"]}),desc:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("p",{className:"mb-2",children:["Are you sure you want to delete the selected users? ",(0,s.jsx)("br",{}),"This action cannot be undone."]}),(0,s.jsxs)(y.Label,{className:"my-4 flex flex-col items-start gap-1.5",children:[(0,s.jsxs)("span",{className:"",children:['Confirm by typing "',F,'":']}),(0,s.jsx)(w.Input,{value:n,onChange:e=>i(e.target.value),placeholder:`Type "${F}" to confirm.`})]}),(0,s.jsxs)(f.Alert,{variant:"destructive",children:[(0,s.jsx)(f.AlertTitle,{children:"Warning!"}),(0,s.jsx)(f.AlertDescription,{children:"Please be careful, this operation can not be rolled back."})]})]}),confirmText:"Delete",destructive:!0})}function T({table:e}){let[l,t]=(0,a.useState)(!1),n=e.getFilteredSelectedRowModel().rows,i=s=>{let a=n.map(e=>e.original);g.toast.promise((0,r.sleep)(2e3),{loading:`${"active"===s?"Activating":"Deactivating"} users...`,success:()=>(e.resetRowSelection(),`${"active"===s?"Activated":"Deactivated"} ${a.length} user${a.length>1?"s":""}`),error:`Error ${"active"===s?"activating":"deactivating"} users`}),e.resetRowSelection()};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(v.DataTableBulkActions,{table:e,entityName:"user",children:[(0,s.jsxs)(b.Tooltip,{children:[(0,s.jsx)(b.TooltipTrigger,{asChild:!0,children:(0,s.jsxs)(j.Button,{variant:"outline",size:"icon",onClick:()=>{let s=n.map(e=>e.original);g.toast.promise((0,r.sleep)(2e3),{loading:"Inviting users...",success:()=>(e.resetRowSelection(),`Invited ${s.length} user${s.length>1?"s":""}`),error:"Error inviting users"}),e.resetRowSelection()},className:"size-8","aria-label":"Invite selected users",title:"Invite selected users",children:[(0,s.jsx)(p,{}),(0,s.jsx)("span",{className:"sr-only",children:"Invite selected users"})]})}),(0,s.jsx)(b.TooltipContent,{children:(0,s.jsx)("p",{children:"Invite selected users"})})]}),(0,s.jsxs)(b.Tooltip,{children:[(0,s.jsx)(b.TooltipTrigger,{asChild:!0,children:(0,s.jsxs)(j.Button,{variant:"outline",size:"icon",onClick:()=>i("active"),className:"size-8","aria-label":"Activate selected users",title:"Activate selected users",children:[(0,s.jsx)(h.UserCheck,{}),(0,s.jsx)("span",{className:"sr-only",children:"Activate selected users"})]})}),(0,s.jsx)(b.TooltipContent,{children:(0,s.jsx)("p",{children:"Activate selected users"})})]}),(0,s.jsxs)(b.Tooltip,{children:[(0,s.jsx)(b.TooltipTrigger,{asChild:!0,children:(0,s.jsxs)(j.Button,{variant:"outline",size:"icon",onClick:()=>i("inactive"),className:"size-8","aria-label":"Deactivate selected users",title:"Deactivate selected users",children:[(0,s.jsx)(u.UserX,{}),(0,s.jsx)("span",{className:"sr-only",children:"Deactivate selected users"})]})}),(0,s.jsx)(b.TooltipContent,{children:(0,s.jsx)("p",{children:"Deactivate selected users"})})]}),(0,s.jsxs)(b.Tooltip,{children:[(0,s.jsx)(b.TooltipTrigger,{asChild:!0,children:(0,s.jsxs)(j.Button,{variant:"destructive",size:"icon",onClick:()=>t(!0),className:"size-8","aria-label":"Delete selected users",title:"Delete selected users",children:[(0,s.jsx)(m.Trash2,{}),(0,s.jsx)("span",{className:"sr-only",children:"Delete selected users"})]})}),(0,s.jsx)(b.TooltipContent,{children:(0,s.jsx)("p",{children:"Delete selected users"})})]})]}),(0,s.jsx)(D,{table:e,open:l,onOpenChange:t})]})}var S=e.i(87486),k=e.i(33659),M=e.i(61273),I=e.i(37822);function P({children:e,className:l="",contentClassName:t=""}){let n=(0,a.useRef)(null),[i,o]=(0,a.useState)(!1),c=e=>{n.current=e,e&&R(e)&&queueMicrotask(()=>o(!0))};return i?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"hidden sm:block",children:(0,s.jsx)(b.TooltipProvider,{delayDuration:0,children:(0,s.jsxs)(b.Tooltip,{children:[(0,s.jsx)(b.TooltipTrigger,{asChild:!0,children:(0,s.jsx)("div",{ref:c,className:(0,r.cn)("truncate",l),children:e})}),(0,s.jsx)(b.TooltipContent,{children:(0,s.jsx)("p",{className:t,children:e})})]})})}),(0,s.jsx)("div",{className:"sm:hidden",children:(0,s.jsxs)(I.Popover,{children:[(0,s.jsx)(I.PopoverTrigger,{asChild:!0,children:(0,s.jsx)("div",{ref:c,className:(0,r.cn)("truncate",l),children:e})}),(0,s.jsx)(I.PopoverContent,{className:(0,r.cn)("w-fit",t),children:(0,s.jsx)("p",{children:e})})]})})]}):(0,s.jsx)("div",{ref:c,className:(0,r.cn)("truncate",l),children:e})}let R=e=>!!e&&(e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth);var z=e.i(47034);let U=(0,x.default)("user-pen",[["path",{d:"M11.5 15H7a4 4 0 0 0-4 4v2",key:"15lzij"}],["path",{d:"M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1817ys"}],["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}]]);var A=e.i(55146),H=e.i(46728);let V=[{id:"select",header:({table:e})=>(0,s.jsx)(k.Checkbox,{checked:e.getIsAllPageRowsSelected()||e.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:s=>e.toggleAllPageRowsSelected(!!s),"aria-label":"Select all",className:"translate-y-[2px]"}),meta:{className:(0,r.cn)("max-md:sticky start-0 z-10 rounded-tl-[inherit]")},cell:({row:e})=>(0,s.jsx)(k.Checkbox,{checked:e.getIsSelected(),onCheckedChange:s=>e.toggleSelected(!!s),"aria-label":"Select row",className:"translate-y-[2px]"}),enableSorting:!1,enableHiding:!1},{accessorKey:"username",header:({column:e})=>(0,s.jsx)(M.DataTableColumnHeader,{column:e,title:"Username"}),cell:({row:e})=>(0,s.jsx)(P,{className:"max-w-36 ps-3",children:e.getValue("username")}),meta:{className:(0,r.cn)("drop-shadow-[0_1px_2px_rgb(0_0_0_/_0.1)] dark:drop-shadow-[0_1px_2px_rgb(255_255_255_/_0.1)]","ps-0.5 max-md:sticky start-6 @4xl/content:table-cell @4xl/content:drop-shadow-none")},enableHiding:!1},{id:"fullName",header:({column:e})=>(0,s.jsx)(M.DataTableColumnHeader,{column:e,title:"Name"}),cell:({row:e})=>{let{firstName:a,lastName:l}=e.original,t=`${a} ${l}`;return(0,s.jsx)(P,{className:"max-w-36",children:t})},meta:{className:"w-36"}},{accessorKey:"email",header:({column:e})=>(0,s.jsx)(M.DataTableColumnHeader,{column:e,title:"Email"}),cell:({row:e})=>(0,s.jsx)("div",{className:"w-fit ps-2 text-nowrap",children:e.getValue("email")})},{accessorKey:"phoneNumber",header:({column:e})=>(0,s.jsx)(M.DataTableColumnHeader,{column:e,title:"Phone Number"}),cell:({row:e})=>(0,s.jsx)("div",{children:e.getValue("phoneNumber")}),enableSorting:!1},{accessorKey:"status",header:({column:e})=>(0,s.jsx)(M.DataTableColumnHeader,{column:e,title:"Status"}),cell:({row:e})=>{let{status:a}=e.original,l=d.callTypes.get(a);return(0,s.jsx)("div",{className:"flex space-x-2",children:(0,s.jsx)(S.Badge,{variant:"outline",className:(0,r.cn)("capitalize",l),children:e.getValue("status")})})},filterFn:(e,s,a)=>a.includes(e.getValue(s)),enableHiding:!1,enableSorting:!1},{accessorKey:"role",header:({column:e})=>(0,s.jsx)(M.DataTableColumnHeader,{column:e,title:"Role"}),cell:({row:e})=>{let{role:a}=e.original,l=d.roles.find(({value:e})=>e===a);return l?(0,s.jsxs)("div",{className:"flex items-center gap-x-2",children:[l.icon&&(0,s.jsx)(l.icon,{size:16,className:"text-muted-foreground"}),(0,s.jsx)("span",{className:"text-sm capitalize",children:e.getValue("role")})]}):null},filterFn:(e,s,a)=>a.includes(e.getValue(s)),enableSorting:!1,enableHiding:!1},{id:"actions",cell:function({row:e}){let{setOpen:a,setCurrentRow:l}=(0,H.useUsers)();return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(A.DropdownMenu,{modal:!1,children:[(0,s.jsx)(A.DropdownMenuTrigger,{asChild:!0,children:(0,s.jsxs)(j.Button,{variant:"ghost",className:"flex h-8 w-8 p-0 data-[state=open]:bg-muted",children:[(0,s.jsx)(z.DotsHorizontalIcon,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Open menu"})]})}),(0,s.jsxs)(A.DropdownMenuContent,{align:"end",className:"w-[160px]",children:[(0,s.jsxs)(A.DropdownMenuItem,{onClick:()=>{l(e.original),a("edit")},children:["Edit",(0,s.jsx)(A.DropdownMenuShortcut,{children:(0,s.jsx)(U,{size:16})})]}),(0,s.jsx)(A.DropdownMenuSeparator,{}),(0,s.jsxs)(A.DropdownMenuItem,{onClick:()=>{l(e.original),a("delete")},className:"text-red-500!",children:["Delete",(0,s.jsx)(A.DropdownMenuShortcut,{children:(0,s.jsx)(m.Trash2,{size:16})})]})]})]})})}}];function L({data:e}){let[m,u]=(0,a.useState)({}),[h,x]=(0,a.useState)({}),[p,g]=(0,a.useState)([]),{columnFilters:j,onColumnFiltersChange:b,pagination:v,onPaginationChange:N,ensurePageInRange:f}=(0,n.useTableUrlState)({pagination:{defaultPage:1,defaultPageSize:10},globalFilter:{enabled:!1},columnFilters:[{columnId:"username",searchKey:"username",type:"string"},{columnId:"status",searchKey:"status",type:"array"},{columnId:"role",searchKey:"role",type:"array"}]}),w=(0,l.useReactTable)({data:e,columns:V,state:{sorting:p,pagination:v,rowSelection:m,columnFilters:j,columnVisibility:h},enableRowSelection:!0,onPaginationChange:N,onColumnFiltersChange:b,onRowSelectionChange:u,onSortingChange:g,onColumnVisibilityChange:x,getPaginationRowModel:(0,t.getPaginationRowModel)(),getCoreRowModel:(0,t.getCoreRowModel)(),getFilteredRowModel:(0,t.getFilteredRowModel)(),getSortedRowModel:(0,t.getSortedRowModel)(),getFacetedRowModel:(0,t.getFacetedRowModel)(),getFacetedUniqueValues:(0,t.getFacetedUniqueValues)()});return(0,a.useEffect)(()=>{f(w.getPageCount())},[w,f]),(0,s.jsxs)("div",{className:(0,r.cn)('max-sm:has-[div[role="toolbar"]]:mb-16',"flex flex-1 flex-col gap-4"),children:[(0,s.jsx)(c.DataTableToolbar,{table:w,searchPlaceholder:"Filter users...",searchKey:"username",filters:[{columnId:"status",title:"Status",options:[{label:"Active",value:"active"},{label:"Inactive",value:"inactive"},{label:"Invited",value:"invited"},{label:"Suspended",value:"suspended"}]},{columnId:"role",title:"Role",options:d.roles.map(e=>({...e}))}]}),(0,s.jsx)("div",{className:"overflow-hidden rounded-md border",children:(0,s.jsxs)(i.Table,{children:[(0,s.jsx)(i.TableHeader,{children:w.getHeaderGroups().map(e=>(0,s.jsx)(i.TableRow,{className:"group/row",children:e.headers.map(e=>(0,s.jsx)(i.TableHead,{colSpan:e.colSpan,className:(0,r.cn)("bg-background group-hover/row:bg-muted group-data-[state=selected]/row:bg-muted",e.column.columnDef.meta?.className,e.column.columnDef.meta?.thClassName),children:e.isPlaceholder?null:(0,l.flexRender)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,s.jsx)(i.TableBody,{children:w.getRowModel().rows?.length?w.getRowModel().rows.map(e=>(0,s.jsx)(i.TableRow,{"data-state":e.getIsSelected()&&"selected",className:"group/row",children:e.getVisibleCells().map(e=>(0,s.jsx)(i.TableCell,{className:(0,r.cn)("bg-background group-hover/row:bg-muted group-data-[state=selected]/row:bg-muted",e.column.columnDef.meta?.className,e.column.columnDef.meta?.tdClassName),children:(0,l.flexRender)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,s.jsx)(i.TableRow,{children:(0,s.jsx)(i.TableCell,{colSpan:V.length,className:"h-24 text-center",children:"No results."})})})]})}),(0,s.jsx)(o.DataTablePagination,{table:w,className:"mt-auto"}),(0,s.jsx)(T,{table:w})]})}e.s(["UsersTable",()=>L],12208)}]);